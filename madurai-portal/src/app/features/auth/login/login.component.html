<div class="login-container">

  <!-- Role Selection -->
  <div class="login-card" *ngIf="!showLoginForm" @fadeSlide>
    <div class="card-header">
      <h2>Select Your Role</h2>
      <p>to continue to Madurai Bible College</p>
    </div>

    <div class="role-selection">
      <button class="role-tile" (click)="selectRole('student')">
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
          <path d="M12 11v0"></path>
          <path d="m19 10-7 5-7-5"></path>
        </svg>
        <span>Student</span>
      </button>

      <button class="role-tile" (click)="selectRole('teacher')">
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8a6 6 0 0 0-12 0c0 7 3 9 6 9s6-2 6-9Z" />
          <path d="M12 14v7a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-7" />
          <path d="M6 21v-7a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v7" />
        </svg>
        <span>Teacher</span>
      </button>

      <button class="role-tile" (click)="selectRole('admin')">
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
          <path d="m9.5 9 2 2 4-4"></path>
        </svg>
        <span>Admin</span>
      </button>
    </div>
  </div>

  <!-- Login Form -->

  <div class="login-container">
    <div class="login-card" *ngIf="showLoginForm" @fadeSlide>
      <!-- ... (Card Header) ... -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <input type="text" placeholder="Username" formControlName="username" required name="username">
        </div>

        <div class="form-group password-group">
          <input [type]="passwordVisible ? 'text' : 'password'" placeholder="Password" formControlName="password" name="password" required>
          <span class="visibility-toggle" (click)="togglePasswordVisibility()">
            <!-- Eye Icon (Visible) -->
            <svg *ngIf="!passwordVisible" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
              <circle cx="12" cy="12" r="3" />
            </svg>
            <!-- Eye Off Icon (Hidden) -->
            <svg *ngIf="passwordVisible" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24" />
              <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68" />
              <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61" />
              <line x1="2" x2="22" y1="2" y2="22" />
            </svg>
          </span>
        </div>

        <button type="submit" class="submit-btn" [disabled]="loginForm.invalid">Login</button>
        <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
      </form>

      <button class="back-btn" (click)="goBack()">Back</button>
    </div>

  </div>

</div>