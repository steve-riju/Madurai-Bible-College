<div class="dashboard-root" *ngIf="!loading; else loadingTpl">

 <!-- ğŸ“Š Stats cards above  -->
  <div class="grid grid-cols-4 gap-4 mb-6">
    <mat-card class="stat-card" routerLink="/teacher/assignments">
      <h3>Assignments</h3>
      <p>{{ data.assignmentCount }}</p>
    </mat-card>

    <mat-card class="stat-card" routerLink="/teacher/materials">
      <h3>Materials</h3>
      <p>{{ data.materialCount }}</p>
    </mat-card>

    <mat-card class="stat-card" routerLink="/teacher/report">
      <h3>Reports</h3>
      <p>{{ data.reportCount }}</p>
    </mat-card>

    <mat-card class="stat-card">
      <h3>Batches</h3>
      <p>{{ data.batchCount }}</p>
    </mat-card>
  </div>
 
<!-- ğŸ§¾ My Batches List -->
<div class="my-batches-section mat-elevation-z2">
  <h2 class="section-title">ğŸ“ My Batches</h2>
  <table mat-table [dataSource]="data?.myBatches" class="mat-elevation-z1 full-width-table">
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Batch Name </th>
    <td mat-cell *matCellDef="let b">
      <span
        *ngIf="b.currentSemester"
        class="current-semester-badge"
      >        â­
      </span>
      {{ b.name }}
    </td>
  </ng-container>

  <ng-container matColumnDef="semester">
    <th mat-header-cell *matHeaderCellDef> Semester </th>
    <td mat-cell *matCellDef="let b"> {{ b.semesterName }} </td>
  </ng-container>

  <ng-container matColumnDef="students">
    <th mat-header-cell *matHeaderCellDef> Students </th>
    <td mat-cell *matCellDef="let b"> {{ b.totalStudents }} </td>
  </ng-container>

  <ng-container matColumnDef="endDate">
    <th mat-header-cell *matHeaderCellDef> End Date </th>
    <td mat-cell *matCellDef="let b"> {{ b.semesterEndDate }} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

</div>


  <mat-card routerLink="/teacher/assignments">
    <h3>ğŸ•’ Recent Assignments</h3>
    <ul>
      <li *ngFor="let a of data.recentAssignments">{{ a }}</li>
    </ul>
  </mat-card>
</div>

<ng-template #loadingTpl>
  <mat-spinner></mat-spinner>
</ng-template>
