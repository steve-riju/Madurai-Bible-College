<h2>Assignment Submissions</h2>

<div *ngIf="loading">Loading...</div>

<table class="table" *ngIf="!loading">
  <thead>
    <tr>
      <th>Student</th>
      <th>Answer</th>
      <th>Files</th>
      <th>Marks</th>
      <th>Remarks</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let s of submissions">
      <td>{{ s.studentName }}</td>
      <td>{{ s.textAnswer }}</td>
      <td>
        <a *ngFor="let f of s.attachmentUrls" [href]="f" target="_blank">Download</a>
      </td>
      <td>
        <input type="number" [(ngModel)]="s.marksObtained" class="form-control" style="width:80px" />
      </td>
      <td>
        <input type="text" [(ngModel)]="s.teacherRemarks" class="form-control" />
      </td>
      <td>
        <button (click)="saveGrade(s)" class="btn btn-sm btn-primary">💾 Save</button>
        <button (click)="reject(s)" class="btn btn-sm btn-danger">❌ Reject</button>
      </td>
    </tr>
  </tbody>
</table>
<div *ngIf="submissions.length === 0 && !loading">No submissions found.</div>